<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" th:href="@{/css/courseBoardView.css}">
    <meta name="_csrf" th:content="${_csrf.token}"/>
    <meta name="_csrf_header" th:content="${_csrf.headerName}"/>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <title>ê°•ì˜ ê²Œì‹œê¸€</title>
</head>
<body>


<div class="post-container" th:object="${course}">
    <div class="post-header">
        <h1 class="post-title" th:text="*{courseTitle}">ê°•ì˜ ê²Œì‹œê¸€ ì œëª©</h1>
        <div class="post-meta">
            ì‘ì„±ì¼:  <span th:text="${#temporals.format(course.createdAt, 'yyyy-MM-dd HH:mm')}"></span>
            |
            ë¶„ë¥˜: <span th:text="*{courseType}"></span>
            |
            ì¡°íšŒìˆ˜: <span th:text="*{totalViews}"></span>
        </div>
    </div>

    <div class="post-content" th:utext="*{courseContent}">

    </div>

    <div class="reactions">
        <button id="likeBtn">
            ğŸ‘ <span class="count" id="likeCount" th:text="*{totalLikes}">0</span>
        </button>
        <button id="dislikeBtn">
            ğŸ‘ <span class="count" id="dislikeCount" th:text="*{totalDislikes}">0</span>
        </button>
    </div>

    <div class="comments-section">
        <h2>ëŒ“ê¸€</h2>
        <div id="commentsList">
            <!-- ê°œë³„ ëŒ“ê¸€ .comment ìš”ì†Œ ì¶”ê°€ -->
        </div>
        <form class="comment-form" id="commentForm">
            <textarea id="commentInput" placeholder="ëŒ“ê¸€ì„ ì…ë ¥í•˜ì„¸ìš”..." required></textarea>
            <button type="submit">ëŒ“ê¸€ ë“±ë¡</button>
        </form>
    </div>
</div>

<!--<script>
    let likes = 0;
    let dislikes = 0;
    const likeBtn = document.getElementById('likeBtn');
    const dislikeBtn = document.getElementById('dislikeBtn');
    const likeCount = document.getElementById('likeCount');
    const dislikeCount = document.getElementById('dislikeCount');

    likeBtn.addEventListener('click', () => {
        likes++;
        likeCount.textContent = likes;
    });
    dislikeBtn.addEventListener('click', () => {
        dislikes++;
        dislikeCount.textContent = dislikes;
    });

    const commentForm = document.getElementById('commentForm');
    const commentInput = document.getElementById('commentInput');
    const commentsList = document.getElementById('commentsList');

    commentForm.addEventListener('submit', e => {
        e.preventDefault();
        const text = commentInput.value.trim();
        if (!text) return;
        const commentEl = document.createElement('div');
        commentEl.className = 'comment';
        commentEl.innerHTML = `
        <div class="comment-header">ìµëª… | ${new Date().toLocaleString()}</div>
        <div class="comment-body">${text}</div>
      `;
        commentsList.prepend(commentEl);
        commentInput.value = '';
    });
</script>-->

<script th:src="@{/js/courseBoardView.js}"></script>
</body>
</html>